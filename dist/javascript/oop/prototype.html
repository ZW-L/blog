<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>javascript 面向对象编程(二)：原型和原型链 | Web Docs</title>
    <meta name="generator" content="VuePress 1.5.2">
    
    <meta name="description" content="一份以手册为主的 Web 开发文档">
    <link rel="preload" href="./assets/css/0.styles.cc2dddd7.css" as="style"><link rel="preload" href="./assets/js/app.3d8f1af5.js" as="script"><link rel="preload" href="./assets/js/3.88c3c705.js" as="script"><link rel="preload" href="./assets/js/1.c8491881.js" as="script"><link rel="preload" href="./assets/js/7.5cead787.js" as="script"><link rel="prefetch" href="./assets/js/10.72b868db.js"><link rel="prefetch" href="./assets/js/100.36ccf4be.js"><link rel="prefetch" href="./assets/js/101.d0dbf91a.js"><link rel="prefetch" href="./assets/js/102.9acf6595.js"><link rel="prefetch" href="./assets/js/103.a89efeb3.js"><link rel="prefetch" href="./assets/js/104.83f2aecf.js"><link rel="prefetch" href="./assets/js/105.5585e0d4.js"><link rel="prefetch" href="./assets/js/106.351b886c.js"><link rel="prefetch" href="./assets/js/107.dc12f815.js"><link rel="prefetch" href="./assets/js/108.3cedc598.js"><link rel="prefetch" href="./assets/js/109.3aa7edaa.js"><link rel="prefetch" href="./assets/js/11.6d017b9a.js"><link rel="prefetch" href="./assets/js/110.a935426a.js"><link rel="prefetch" href="./assets/js/111.21cc51af.js"><link rel="prefetch" href="./assets/js/112.66171db0.js"><link rel="prefetch" href="./assets/js/113.3cbba525.js"><link rel="prefetch" href="./assets/js/114.612e55fc.js"><link rel="prefetch" href="./assets/js/115.54c9d1e3.js"><link rel="prefetch" href="./assets/js/12.b06f907d.js"><link rel="prefetch" href="./assets/js/13.5d45ce27.js"><link rel="prefetch" href="./assets/js/14.9e5a0141.js"><link rel="prefetch" href="./assets/js/15.ff2a6991.js"><link rel="prefetch" href="./assets/js/16.68f16337.js"><link rel="prefetch" href="./assets/js/17.71508ff0.js"><link rel="prefetch" href="./assets/js/18.9067e798.js"><link rel="prefetch" href="./assets/js/19.95d1f735.js"><link rel="prefetch" href="./assets/js/20.625f415b.js"><link rel="prefetch" href="./assets/js/21.1b6926c2.js"><link rel="prefetch" href="./assets/js/22.1f4f9118.js"><link rel="prefetch" href="./assets/js/23.1682549d.js"><link rel="prefetch" href="./assets/js/24.c7f4a699.js"><link rel="prefetch" href="./assets/js/25.97271ff9.js"><link rel="prefetch" href="./assets/js/26.2ee942fa.js"><link rel="prefetch" href="./assets/js/27.adac6ee8.js"><link rel="prefetch" href="./assets/js/28.12d261ea.js"><link rel="prefetch" href="./assets/js/29.9854af27.js"><link rel="prefetch" href="./assets/js/30.be0f8682.js"><link rel="prefetch" href="./assets/js/31.6968051d.js"><link rel="prefetch" href="./assets/js/32.c89834e2.js"><link rel="prefetch" href="./assets/js/33.43a49732.js"><link rel="prefetch" href="./assets/js/34.55c3e38f.js"><link rel="prefetch" href="./assets/js/35.c58bc40a.js"><link rel="prefetch" href="./assets/js/36.6ffb1f97.js"><link rel="prefetch" href="./assets/js/37.0f343379.js"><link rel="prefetch" href="./assets/js/38.2086c3af.js"><link rel="prefetch" href="./assets/js/39.7c77dba4.js"><link rel="prefetch" href="./assets/js/4.3893e2be.js"><link rel="prefetch" href="./assets/js/40.3b3a9ad8.js"><link rel="prefetch" href="./assets/js/41.4eb4df53.js"><link rel="prefetch" href="./assets/js/42.2a596fb2.js"><link rel="prefetch" href="./assets/js/43.2ef35709.js"><link rel="prefetch" href="./assets/js/44.6d23cbc6.js"><link rel="prefetch" href="./assets/js/45.5d3d6c59.js"><link rel="prefetch" href="./assets/js/46.912ed241.js"><link rel="prefetch" href="./assets/js/47.cdc6728d.js"><link rel="prefetch" href="./assets/js/48.b357e174.js"><link rel="prefetch" href="./assets/js/49.f315ebd6.js"><link rel="prefetch" href="./assets/js/5.e9b1c7c6.js"><link rel="prefetch" href="./assets/js/50.e3e6080c.js"><link rel="prefetch" href="./assets/js/51.7b481502.js"><link rel="prefetch" href="./assets/js/52.9d1d79a5.js"><link rel="prefetch" href="./assets/js/53.984c0cfa.js"><link rel="prefetch" href="./assets/js/54.ecb6d3be.js"><link rel="prefetch" href="./assets/js/55.05b89785.js"><link rel="prefetch" href="./assets/js/56.f51641a1.js"><link rel="prefetch" href="./assets/js/57.53ebff63.js"><link rel="prefetch" href="./assets/js/58.ae06033c.js"><link rel="prefetch" href="./assets/js/59.0fd3c414.js"><link rel="prefetch" href="./assets/js/6.d702c271.js"><link rel="prefetch" href="./assets/js/60.f9372bc1.js"><link rel="prefetch" href="./assets/js/61.fdd8a0f3.js"><link rel="prefetch" href="./assets/js/62.09f84bd8.js"><link rel="prefetch" href="./assets/js/63.4496443c.js"><link rel="prefetch" href="./assets/js/64.36becbe3.js"><link rel="prefetch" href="./assets/js/65.cdcbedfe.js"><link rel="prefetch" href="./assets/js/66.b631eb25.js"><link rel="prefetch" href="./assets/js/67.c8e707ff.js"><link rel="prefetch" href="./assets/js/68.e61fb6ef.js"><link rel="prefetch" href="./assets/js/69.11d878ef.js"><link rel="prefetch" href="./assets/js/70.1c568b5f.js"><link rel="prefetch" href="./assets/js/71.d3906137.js"><link rel="prefetch" href="./assets/js/72.df84abb1.js"><link rel="prefetch" href="./assets/js/73.439f98f5.js"><link rel="prefetch" href="./assets/js/74.a5eb9954.js"><link rel="prefetch" href="./assets/js/75.b9fca3ef.js"><link rel="prefetch" href="./assets/js/76.4fbb7661.js"><link rel="prefetch" href="./assets/js/77.68ea1bed.js"><link rel="prefetch" href="./assets/js/78.80347ec9.js"><link rel="prefetch" href="./assets/js/79.02bad659.js"><link rel="prefetch" href="./assets/js/8.8ca167a3.js"><link rel="prefetch" href="./assets/js/80.707dc8f5.js"><link rel="prefetch" href="./assets/js/81.07c17f10.js"><link rel="prefetch" href="./assets/js/82.b8cd80ac.js"><link rel="prefetch" href="./assets/js/83.d5180a21.js"><link rel="prefetch" href="./assets/js/84.efec9911.js"><link rel="prefetch" href="./assets/js/85.c2c84a83.js"><link rel="prefetch" href="./assets/js/86.29943d9a.js"><link rel="prefetch" href="./assets/js/87.336fcd5e.js"><link rel="prefetch" href="./assets/js/88.cc98e0f5.js"><link rel="prefetch" href="./assets/js/89.9e741d93.js"><link rel="prefetch" href="./assets/js/9.c933ab32.js"><link rel="prefetch" href="./assets/js/90.04051388.js"><link rel="prefetch" href="./assets/js/91.be71220d.js"><link rel="prefetch" href="./assets/js/92.05c57768.js"><link rel="prefetch" href="./assets/js/93.ed1633be.js"><link rel="prefetch" href="./assets/js/94.06c0f465.js"><link rel="prefetch" href="./assets/js/95.b62d8a3c.js"><link rel="prefetch" href="./assets/js/96.aebc5256.js"><link rel="prefetch" href="./assets/js/97.25cf7ea6.js"><link rel="prefetch" href="./assets/js/98.7f46c0f0.js"><link rel="prefetch" href="./assets/js/99.877a0c6e.js">
    <link rel="stylesheet" href="./assets/css/0.styles.cc2dddd7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="container"><div class="ugly-navbar" data-v-0038f29b><div class="main" data-v-0038f29b><a href="/./" class="main-logo router-link-active" data-v-0038f29b>黎志文的个人博客</a> <ul class="main-nav" data-v-0038f29b></ul></div></div> <div class="main"><div class="ugly-sidebar" data-v-5bc16987><div class="blogger-card ugly-sidebar_item ugly-sidebar_blogger" data-v-b18cd19a data-v-5bc16987><div class="avatar-wrapper" data-v-b18cd19a><div class="avatar" data-v-b18cd19a><img src="data:image/jpeg;base64,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" alt="avatar" class="avatar-img" data-v-b18cd19a></div></div> <div class="name" data-v-b18cd19a>黎志文</div> <div class="address" data-v-b18cd19a><span data-v-b18cd19a>广东 深圳</span></div> <div class="link" data-v-b18cd19a><div class="link-item link-archives" data-v-b18cd19a><p class="link-item_count" data-v-b18cd19a>102</p> <p class="link-item_name" data-v-b18cd19a>归档</p></div> <div class="link-item link-categories" data-v-b18cd19a><p class="link-item_count" data-v-b18cd19a>12</p> <p class="link-item_name" data-v-b18cd19a>分类</p></div> <div class="link-item link-tags" data-v-b18cd19a><p class="link-item_count" data-v-b18cd19a>16</p> <p class="link-item_name" data-v-b18cd19a>标签</p></div></div></div> <ul class="blogger-directory sidebar-links ugly-sidebar_item ugly-sidebar_directory" data-v-641c64d6 data-v-5bc16987><li class="blogger-directory_item blogger-directory_item-h2" data-v-641c64d6><a href="#前言" class="item-anchor sidebar-link" data-v-641c64d6>前言</a></li><li class="blogger-directory_item blogger-directory_item-h2" data-v-641c64d6><a href="#序" class="item-anchor sidebar-link" data-v-641c64d6>序</a></li><li class="blogger-directory_item blogger-directory_item-h2" data-v-641c64d6><a href="#万国" class="item-anchor sidebar-link" data-v-641c64d6>万国</a></li><li class="blogger-directory_item blogger-directory_item-h2" data-v-641c64d6><a href="#特殊的秘宝" class="item-anchor sidebar-link" data-v-641c64d6>特殊的秘宝</a></li><li class="blogger-directory_item blogger-directory_item-h2" data-v-641c64d6><a href="#终极秘宝" class="item-anchor sidebar-link" data-v-641c64d6>终极秘宝</a></li><li class="blogger-directory_item blogger-directory_item-h2" data-v-641c64d6><a href="#疯狂的万国" class="item-anchor sidebar-link" data-v-641c64d6>疯狂的万国</a></li><li class="blogger-directory_item blogger-directory_item-h2" data-v-641c64d6><a href="#新的规则" class="item-anchor sidebar-link" data-v-641c64d6>新的规则</a></li><li class="blogger-directory_item blogger-directory_item-h3" data-v-641c64d6><a href="#new-规则" class="item-anchor sidebar-link" data-v-641c64d6>new 规则</a></li><li class="blogger-directory_item blogger-directory_item-h3" data-v-641c64d6><a href="#instanceof-规则" class="item-anchor sidebar-link" data-v-641c64d6>instanceof 规则</a></li><li class="blogger-directory_item blogger-directory_item-h3" data-v-641c64d6><a href="#prototype-规则" class="item-anchor sidebar-link" data-v-641c64d6>prototype 规则</a></li><li class="blogger-directory_item blogger-directory_item-h3" data-v-641c64d6><a href="#constructor-规则" class="item-anchor sidebar-link" data-v-641c64d6>constructor 规则</a></li><li class="blogger-directory_item blogger-directory_item-h3" data-v-641c64d6><a href="#object-规则" class="item-anchor sidebar-link" data-v-641c64d6>Object 规则</a></li><li class="blogger-directory_item blogger-directory_item-h2" data-v-641c64d6><a href="#总结" class="item-anchor sidebar-link" data-v-641c64d6>总结</a></li></ul> <div class="ugly-sidebar_item ugly-sidebar_categories" data-v-5bc16987></div> <div class="ugly-sidebar_item ugly-sidebar_archives" data-v-5bc16987></div> <div class="ugly-sidebar_item ugly-sidebar_tags" data-v-5bc16987></div></div> <div class="main_content content__default"><h2 id="前言"><a href="#前言" class="header-anchor">#</a> 前言</h2> <p>  最近复习了原型和原型链，为了更深刻地记住原理，所以便有了这篇文章；本文的目的是由浅及深分析原型和原型链，相信大家对这个图都不陌生：</p> <p><img src="./assets/img/prototype.f8833601.jpeg" alt="原型链图"></p> <p>  要是觉得我啰嗦的话，直接看<a href="#%E6%8F%AD%E7%A7%98">总结</a>。</p> <p>  那么，就让我们进入海贼(原型)的世界吧！</p> <h2 id="序"><a href="#序" class="header-anchor">#</a> 序</h2> <p>  在大海上，有一些臭名昭著的海盗，他们给自己取了一些名号：<code>Foo</code>、<code>Object</code>、<code>Function</code>。传闻他们都有自己的秘宝(<code>prototype</code>)，但是他们打不开这个秘宝，这像是大海对他们的一个诅咒：他们永远无法打开自己的秘宝，但是他们的孩子可以。</p> <p>  大海很大，但也很小，海盗们总会碰个照面，一言不合就是开大，打他个几天几夜的。没有什么东西能够永远保持新鲜感，海盗们最终也对打架厌倦了，打来打去那几个，而且都是只抽(单挑)，他们就开始反思：我好歹都是某片海域的王，凭什么凡事都要亲力亲为？于是他们就萌生了一个看法：招小弟！看着小弟们厮杀，也是一种乐趣。他们就开始拉新人下水，用自己的秘宝(<code>prototype</code>)诱惑他们：想要我的秘宝吗？喊我一声老爹，这些都是你们的！</p> <p>  新人们对秘宝趋之若鹜，纷纷带上了海贼团的印记(<code>__proto__</code>)，获得了老爹的秘宝(<code>prototype</code>)的使用权。从此，世界开启了海贼大时代！</p> <p><img src="./assets/img/prototype_01.b5f68f6f.png" alt="开始"></p> <div class="custom-block tip"><p class="custom-block-title">海贼小 tips</p> <ul><li><code>__proto__</code> 就像是一条秘密通道，它通向秘宝(<code>prototype</code>)：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>tag <span class="token operator">=</span> <span class="token string">'Foo'</span>

<span class="token keyword">const</span> f1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
f1<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span>tag<span class="token punctuation">)</span>   <span class="token comment">// 'Foo'</span>
</code></pre></div><ul><li>海贼无法给自己带上 <code>__proto__</code> 印记(谁能认自己做爹？)，因此无法享用自己的秘宝：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>tag <span class="token operator">=</span> <span class="token string">'Foo'</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Foo<span class="token punctuation">.</span>tag<span class="token punctuation">)</span>  <span class="token comment">// undefined</span>
</code></pre></div></div> <h2 id="万国"><a href="#万国" class="header-anchor">#</a> 万国</h2> <p>  两虎相斗必有一伤，总会有一个称王的，另一个想要在新世界立足，就只能暗地里认了爹。<code>Foo</code> 就认了 <code>Function</code> 做爹，除了 <code>Foo</code>，还有 <code>Bar</code>、<code>Baz</code>、<code>Array</code>...他们都认了 <code>Function</code> 做爹。于是 <code>Function</code> 建立了一个万国大集团，并且重新定义了海贼头头的说法：船长(<code>function</code>)。从此，<code>function</code> 便成了船长的专属标记，除了一头倔牛(<code>Object</code>)，他目前还没认可 <code>Function</code>。</p> <p><img src="./assets/img/prototype_02.ca1dc9d3.png" alt="万国"></p> <div class="custom-block tip"><p class="custom-block-title">海贼小 tips</p> <ul><li>船长们都从万国(<code>Function</code>)收获了新秘宝：<code>call</code>/<code>bind</code>/<code>apply</code></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>tag<span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">const</span> treasure <span class="token operator">=</span> <span class="token punctuation">{</span>
  tag<span class="token operator">:</span> <span class="token string">'Function'</span>
<span class="token punctuation">}</span>

<span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                 <span class="token comment">// undefined</span>
<span class="token function">Foo</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>treasure<span class="token punctuation">)</span>    <span class="token comment">// 'Function'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Foo<span class="token punctuation">.</span>call<span class="token punctuation">)</span> <span class="token comment">// [Function call]</span>
</code></pre></div><ul><li>船长们是私下认的爹，他们的孩子们不知道自己有个爷，因此无法窥探万国的秘宝(<code>Function.prototype</code>)</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">const</span> f1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
f1<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span>call<span class="token punctuation">)</span>  <span class="token comment">// undefined</span>
<span class="token function">f1</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span>             <span class="token comment">// TypeError: f1.call is not a function</span>
</code></pre></div></div> <h2 id="特殊的秘宝"><a href="#特殊的秘宝" class="header-anchor">#</a> 特殊的秘宝</h2> <p>  就像上一回所说的，小海贼们无法找到万国的秘宝(<code>Function.prototype</code>)；但是，忽然有一天，他们发现自己的老爹的秘宝(<code>prototype</code>)里面，竟然有一条秘密通道，这条通道可以通往 <code>Object</code> 的秘宝；于是，外界都知道 <code>Object</code> 的秘宝是与众不同的，人们给他取了一个外号：海贼王！</p> <p><img src="./assets/img/prototype_03.839c48ff.png" alt="海贼王"></p> <div class="custom-block tip"><p class="custom-block-title">海贼小 tips</p> <ul><li>通过这一条特殊的通道，小海贼们找到了海贼王的秘宝(<code>Object.prototype</code>)</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token keyword">const</span> f1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
f1<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'toString'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token comment">// 通道：f1.__proto__.__proto__ = Object.prototype</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span>toString<span class="token punctuation">)</span>                              <span class="token comment">// [Function: toString]</span>
</code></pre></div><ul><li>当然，船长们因为私下认的爹，也间接找到了海贼王的秘宝(<code>Object.prototype</code>)</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Foo<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'toString'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>           <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'toString'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// false</span>

<span class="token comment">// 通道：Foo.__proto__.__proto__ = Object.prototype</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Foo<span class="token punctuation">.</span>toString<span class="token punctuation">)</span>                           <span class="token comment">// [Function toString]</span>
</code></pre></div><ul><li>切记，这两个找到海贼王秘宝的方式是不一样的，它们是两条线路；但是这又说明了一个事情：要找到海贼王的秘宝(<code>Object.prototype</code>)，必须要认个爹！因为通往海贼王的秘宝的通道就藏在老爹的秘宝里面。</li></ul></div> <h2 id="终极秘宝"><a href="#终极秘宝" class="header-anchor">#</a> 终极秘宝</h2> <p>  海贼王(<code>Object</code>)对于外人们给他的称号丝毫不在意，他在意的是这个世界的真相：我从哪里来？在处处碰壁之后，有人给他提醒，万国的秘宝与众不同，或许从他哪里能找到一些消息。认爹是不可能的，于是他就伪造了一个印记(<code>__proto__</code>)，找到了万国的秘宝(<code>Function.prototype</code>)，第一次有可以使用秘宝的权力(假装认了个爹)。更加令他惊讶的是，之所以自己的秘宝与众不同，是因为他的爷爷(假爹也算爹)就是他自己！</p> <p>  另外，他是世界上第一个进入自己的秘宝的人。当他还沉迷于自己的秘宝的时候，旁人告诉他，这里还有一条密道，但是没有人能够进得去；听完之后，他急忙走到密道跟前，发现上面写着 “终极秘宝” 四个大字，想都没想就走了进去。当他穿过这个通道，看见了一片白茫茫的世界，除了他，什么都没有！这时候，他猛然顿悟：我能来到这里，并不是因为我有多么的特殊，而是这是时代赋予我的使命，我的使命只能走到这里，我无法再往前走，前面的道路不属于我。想到这里，他便哈哈大笑了起来。。。</p> <p>  他沿原路返回，并告诉通行的人，通往 “终极秘宝” 的方法，并且给他取了一个名字：<code>null</code>。至此，所有人都能找到 “终极秘宝”，但是，谁也无法从它那里得知什么。</p> <p><img src="./assets/img/prototype_04.b4b8e101.png" alt="终极秘宝"></p> <div class="custom-block tip"><p class="custom-block-title">海贼小 tips</p> <ul><li>海贼王(<code>Object</code>)是这样发现自己是自己的爷爷的，并且他现在能使用自己的秘宝(<code>prototype</code>)了</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>          <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>  <span class="token comment">// true</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'toString'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>  <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>toString<span class="token punctuation">)</span>                    <span class="token comment">// [Function toString]</span>
</code></pre></div><ul><li>至此，基本上所有的海贼(除了 <code>Function</code>)都被指引到了终极之路</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Foo<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>      <span class="token comment">// null</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Object<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>   <span class="token comment">// null</span>

<span class="token keyword">const</span> f1 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> f2 <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
f1<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>       <span class="token comment">// null</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f2<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span>                 <span class="token comment">// null</span>
</code></pre></div></div> <h2 id="疯狂的万国"><a href="#疯狂的万国" class="header-anchor">#</a> 疯狂的万国</h2> <p>  万国(<code>Function</code>)听说海贼王通过偷取他的秘宝找到了 “终极秘宝”，非常的愤怒，最终患上了暴怒症。最终有一天，在照镜子的时候，暴怒症发作了！他不停地对着镜子里的自己说：你是我爹，你爹是我...</p> <p>  然后，结果就是：他成为了自己的爹，而且找到了 “终极秘宝”。从此以后，大家都说他是一个疯子。</p> <p><img src="./assets/img/prototype_05.23f23764.png" alt="终极秘宝"></p> <div class="custom-block tip"><p class="custom-block-title">海贼小 tips</p> <ul><li>万国(<code>Function</code>)是第二个进入自己秘宝的人，因为他能把自己认作爹</li></ul> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Function<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>          <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Function<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__ <span class="token operator">===</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span>  <span class="token comment">// true</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>Function<span class="token punctuation">.</span>call<span class="token punctuation">)</span>                                <span class="token comment">// [Function call]</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Function</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span><span class="token string">'call'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>    <span class="token comment">// true</span>
</code></pre></div></div> <h2 id="新的规则"><a href="#新的规则" class="header-anchor">#</a> 新的规则</h2> <p>至此，海贼世界的规则基本上形成了，他们有一些公认的规则，但也有不遵守规则的人。</p> <h3 id="new-规则"><a href="#new-规则" class="header-anchor">#</a> new 规则</h3> <ul><li>一个权威的认爹机构，以后想要上船，通过 <code>new</code> 就行了</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>tag <span class="token operator">=</span> <span class="token string">'Foo'</span>

<span class="token keyword">const</span> f1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f1<span class="token punctuation">.</span>tag<span class="token punctuation">)</span>   <span class="token comment">// 'Foo'</span>
</code></pre></div><ul><li>这样不用自己去申请印记(<code>__proto__</code>)，主要是为了解决一些问题：
<ul><li>有些船长认可 <code>__proto__</code> 印记，但有些认可 <code>[[prototype]]</code> 印记，其实他们是一样的</li> <li>使用 <code>new</code> 的方式让别人看起来更像我的亲儿子(面向对象编程)，这样我也是有亲儿子(继承)的了</li></ul></li> <li>海贼世界 6.0 版本(ES6)后，又出现了新的认爹规则，但其实都是换汤不换药：<a href="">ES6 Class</a></li></ul> <h3 id="instanceof-规则"><a href="#instanceof-规则" class="header-anchor">#</a> instanceof 规则</h3> <ul><li>一个老爹检测机构，在大海上需要别人给个面子的时候，只有通过这个检测别人才会承认你的继承资格，而且它只会检测印记(<code>__proto__</code>)</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> f1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f1 <span class="token keyword">instanceof</span> <span class="token class-name">Foo</span><span class="token punctuation">)</span>    <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f1 <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><ul><li>有一个叫 “蒂奇” 的海贼反水，自立为王了：</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">const</span> f2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

f2<span class="token punctuation">.</span>__proto__ <span class="token operator">=</span> <span class="token class-name">Object</span><span class="token punctuation">.</span>prototype

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f2 <span class="token keyword">instanceof</span> <span class="token class-name">Foo</span><span class="token punctuation">)</span>    <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>f2 <span class="token keyword">instanceof</span> <span class="token class-name">Object</span><span class="token punctuation">)</span> <span class="token comment">// true</span>
</code></pre></div><h3 id="prototype-规则"><a href="#prototype-规则" class="header-anchor">#</a> prototype 规则</h3> <ul><li>谨记，秘宝是老爹给孩子们(实例)的奖励(交易)，老爹自己无法访问，除了海贼王(<code>Object</code>)和万国(<code>Function</code>)</li> <li>为了区分船长(构造函数)和万国队长(普通函数)，约定了船长(构造函数)的名字要大写</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 构造函数</span>
<span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token comment">// 普通函数</span>
<span class="token keyword">function</span> <span class="token function">foo</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><h3 id="constructor-规则"><a href="#constructor-规则" class="header-anchor">#</a> constructor 规则</h3> <ul><li>为了让海贼世界更加稳定，秘宝也被贴上了一个标签(<code>constructor</code>)，它表示这个秘宝的主人是谁</li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Foo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Foo</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>constructor <span class="token operator">===</span> Foo<span class="token punctuation">)</span>  <span class="token comment">// true</span>
</code></pre></div><h3 id="object-规则"><a href="#object-规则" class="header-anchor">#</a> Object 规则</h3> <ul><li>这不算是规则，只是到了海贼 6.0(ES6)时代，海贼王(<code>Object</code>)为了让海贼世界更加稳定，定义了一系列的规则(方法)</li> <li><code>Foo.prototype.isPrototypeOf(f1)</code>：相当于 <code>f1 instanceof Foo</code></li> <li><code>Object.setPrototypeOf(f1, Foo.prototype)</code>：相当于 <code>f1.__proto__ = Foo.prototype</code></li></ul> <h2 id="总结"><a href="#总结" class="header-anchor">#</a> 总结</h2> <p>啰里八嗦了这么久，就稍微总结一些吧：</p> <ul><li><strong>原型</strong>：就是原型对象(prototype)，这个属性是所有构造函数都有的，定义所有子实例共享的内容，它是原型链的基础</li> <li><strong>原型链</strong>：以 <code>__proto__</code> 作为链条，以相关的原型作为节点组装成的关系链；子实例可以通过这条关系链，找到更多共享的内容</li> <li><strong>两条原型链</strong>：作为对象的原型链，作为函数的原型链；如果一个数据结构不是函数，那么只有一条原型链
<ul><li>作为函数的原型链：主要是为了使用 <code>Function</code> 原型上的 <code>call</code>/<code>bind</code>/<code>apply</code> 等方法</li> <li>作为对象的原型链：主要是为了使用 <code>Object</code> 原型上的一众方法</li></ul></li> <li><strong>构造函数</strong>：实际上就是一个函数，但一用上 <code>new</code> 操作符，就变成了构造函数，一般来说，规定首字母大写</li> <li><strong>继承</strong>：学习过其他语言的话，对 js 的继承会很不习惯；
<ol><li>它可以通过<a href="./es-implement-extend-patterns">多种方式实现继承</a>，但是原理都是一样的，即：<strong>基于原型，需要什么就去原型(原型链)上面找</strong></li> <li>基于原型的继承中，我们对 A 继承于 B 不感兴趣，只对 a 继承于 A 和 B 感兴趣</li></ol></li> <li><strong>原型链顶端</strong>：这时一个先有 <code>Object</code> 还是先有 <code>Function</code> 的问题；实际上，当没有添加最后两条指向(紫色 <code>__proto__</code>)的时候，很难解析谁才是原型链的顶端，这时候可以看作有三个顶端：<code>Object</code>、<code>Function</code> 和 <code>null</code>，它们之间没有任何关系。所以：
<ol><li>设置 <code>Object.__proto__ = Function.prototype</code>：<code>Object</code> 会先后获取到 <code>Function</code> 和他自身的原型，从而可以到达顶端 <code>null</code></li> <li>设置 <code>Function.__proto__ = Function.prototype</code>：<code>Function</code> 会先后获取到他自身和 <code>Object</code> 的原型，从而可以到达顶端 <code>null</code></li> <li>所以可以理解原型链的顶端是 <code>null</code>，而 <code>Object</code> 和 <code>Function</code> 是同时出现的，它们共同协作构造了这样一个原型体系</li></ol></li></ul></div></div> <div class="ugly-footer" data-v-72370111><div class="ugly-footer_main" data-v-72370111><p class="ugly-footer_main-beian" data-v-72370111><a href="http://beian.miit.gov.cn/" target="_blank" data-v-72370111>粤ICP备20060883号-1</a></p> <p class="ugly-footer_main-copyright" data-v-72370111>Copyright ©2019 - precent lzw's Blog</p> <p class="ugly-footer_main-power" data-v-72370111>Power by Vuepress · Design by lzw</p></div></div></div><div class="global-ui"><!----></div></div>
    <script src="./assets/js/app.3d8f1af5.js" defer></script><script src="./assets/js/3.88c3c705.js" defer></script><script src="./assets/js/1.c8491881.js" defer></script><script src="./assets/js/7.5cead787.js" defer></script>
  </body>
</html>
