(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{367:function(t,s,a){t.exports=a.p+"assets/img/prototype.f8833601.jpeg"},368:function(t,s,a){t.exports=a.p+"assets/img/prototype_01.b5f68f6f.png"},369:function(t,s,a){t.exports=a.p+"assets/img/prototype_02.ca1dc9d3.png"},370:function(t,s,a){t.exports=a.p+"assets/img/prototype_03.839c48ff.png"},371:function(t,s,a){t.exports=a.p+"assets/img/prototype_04.b4b8e101.png"},372:function(t,s,a){t.exports=a.p+"assets/img/prototype_05.23f23764.png"},481:function(t,s,a){"use strict";a.r(s);var n=a(25),o=Object(n.a)({},(function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[n("h2",{attrs:{id:"前言"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#前言"}},[t._v("#")]),t._v(" 前言")]),t._v(" "),n("p",[t._v("  最近复习了原型和原型链，为了更深刻地记住原理，所以便有了这篇文章；本文的目的是由浅及深分析原型和原型链，相信大家对这个图都不陌生：")]),t._v(" "),n("p",[n("img",{attrs:{src:a(367),alt:"原型链图"}})]),t._v(" "),n("p",[t._v("  要是觉得我啰嗦的话，直接看"),n("a",{attrs:{href:"#%E6%8F%AD%E7%A7%98"}},[t._v("总结")]),t._v("。")]),t._v(" "),n("p",[t._v("  那么，就让我们进入海贼(原型)的世界吧！")]),t._v(" "),n("h2",{attrs:{id:"序"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#序"}},[t._v("#")]),t._v(" 序")]),t._v(" "),n("p",[t._v("  在大海上，有一些臭名昭著的海盗，他们给自己取了一些名号："),n("code",[t._v("Foo")]),t._v("、"),n("code",[t._v("Object")]),t._v("、"),n("code",[t._v("Function")]),t._v("。传闻他们都有自己的秘宝("),n("code",[t._v("prototype")]),t._v(")，但是他们打不开这个秘宝，这像是大海对他们的一个诅咒：他们永远无法打开自己的秘宝，但是他们的孩子可以。")]),t._v(" "),n("p",[t._v("  大海很大，但也很小，海盗们总会碰个照面，一言不合就是开大，打他个几天几夜的。没有什么东西能够永远保持新鲜感，海盗们最终也对打架厌倦了，打来打去那几个，而且都是只抽(单挑)，他们就开始反思：我好歹都是某片海域的王，凭什么凡事都要亲力亲为？于是他们就萌生了一个看法：招小弟！看着小弟们厮杀，也是一种乐趣。他们就开始拉新人下水，用自己的秘宝("),n("code",[t._v("prototype")]),t._v(")诱惑他们：想要我的秘宝吗？喊我一声老爹，这些都是你们的！")]),t._v(" "),n("p",[t._v("  新人们对秘宝趋之若鹜，纷纷带上了海贼团的印记("),n("code",[t._v("__proto__")]),t._v(")，获得了老爹的秘宝("),n("code",[t._v("prototype")]),t._v(")的使用权。从此，世界开启了海贼大时代！")]),t._v(" "),n("p",[n("img",{attrs:{src:a(368),alt:"开始"}})]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("海贼小 tips")]),t._v(" "),n("ul",[n("li",[n("code",[t._v("__proto__")]),t._v(" 就像是一条秘密通道，它通向秘宝("),n("code",[t._v("prototype")]),t._v(")：")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tag "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Foo'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" f1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nf1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype\n\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tag"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'Foo'")]),t._v("\n")])])]),n("ul",[n("li",[t._v("海贼无法给自己带上 "),n("code",[t._v("__proto__")]),t._v(" 印记(谁能认自己做爹？)，因此无法享用自己的秘宝：")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tag "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Foo'")]),t._v("\n\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Foo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tag"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// undefined")]),t._v("\n")])])])]),t._v(" "),n("h2",{attrs:{id:"万国"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#万国"}},[t._v("#")]),t._v(" 万国")]),t._v(" "),n("p",[t._v("  两虎相斗必有一伤，总会有一个称王的，另一个想要在新世界立足，就只能暗地里认了爹。"),n("code",[t._v("Foo")]),t._v(" 就认了 "),n("code",[t._v("Function")]),t._v(" 做爹，除了 "),n("code",[t._v("Foo")]),t._v("，还有 "),n("code",[t._v("Bar")]),t._v("、"),n("code",[t._v("Baz")]),t._v("、"),n("code",[t._v("Array")]),t._v("...他们都认了 "),n("code",[t._v("Function")]),t._v(" 做爹。于是 "),n("code",[t._v("Function")]),t._v(" 建立了一个万国大集团，并且重新定义了海贼头头的说法：船长("),n("code",[t._v("function")]),t._v(")。从此，"),n("code",[t._v("function")]),t._v(" 便成了船长的专属标记，除了一头倔牛("),n("code",[t._v("Object")]),t._v(")，他目前还没认可 "),n("code",[t._v("Function")]),t._v("。")]),t._v(" "),n("p",[n("img",{attrs:{src:a(369),alt:"万国"}})]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("海贼小 tips")]),t._v(" "),n("ul",[n("li",[t._v("船长们都从万国("),n("code",[t._v("Function")]),t._v(")收获了新秘宝："),n("code",[t._v("call")]),t._v("/"),n("code",[t._v("bind")]),t._v("/"),n("code",[t._v("apply")])])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tag"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" treasure "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  tag"),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Function'")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("                 "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// undefined")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("treasure"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'Function'")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Foo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("call"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// [Function call]")]),t._v("\n")])])]),n("ul",[n("li",[t._v("船长们是私下认的爹，他们的孩子们不知道自己有个爷，因此无法窥探万国的秘宝("),n("code",[t._v("Function.prototype")]),t._v(")")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" f1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nf1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype\n\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("call"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// undefined")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("f1")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("             "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// TypeError: f1.call is not a function")]),t._v("\n")])])])]),t._v(" "),n("h2",{attrs:{id:"特殊的秘宝"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#特殊的秘宝"}},[t._v("#")]),t._v(" 特殊的秘宝")]),t._v(" "),n("p",[t._v("  就像上一回所说的，小海贼们无法找到万国的秘宝("),n("code",[t._v("Function.prototype")]),t._v(")；但是，忽然有一天，他们发现自己的老爹的秘宝("),n("code",[t._v("prototype")]),t._v(")里面，竟然有一条秘密通道，这条通道可以通往 "),n("code",[t._v("Object")]),t._v(" 的秘宝；于是，外界都知道 "),n("code",[t._v("Object")]),t._v(" 的秘宝是与众不同的，人们给他取了一个外号：海贼王！")]),t._v(" "),n("p",[n("img",{attrs:{src:a(370),alt:"海贼王"}})]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("海贼小 tips")]),t._v(" "),n("ul",[n("li",[t._v("通过这一条特殊的通道，小海贼们找到了海贼王的秘宝("),n("code",[t._v("Object.prototype")]),t._v(")")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" f1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nf1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype\n\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasOwnProperty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'toString'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通道：f1.__proto__.__proto__ = Object.prototype")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("toString"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("                              "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// [Function: toString]")]),t._v("\n")])])]),n("ul",[n("li",[t._v("当然，船长们因为私下认的爹，也间接找到了海贼王的秘宝("),n("code",[t._v("Object.prototype")]),t._v(")")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Foo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasOwnProperty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'toString'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("           "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasOwnProperty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'toString'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 通道：Foo.__proto__.__proto__ = Object.prototype")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Foo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("toString"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("                           "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// [Function toString]")]),t._v("\n")])])]),n("ul",[n("li",[t._v("切记，这两个找到海贼王秘宝的方式是不一样的，它们是两条线路；但是这又说明了一个事情：要找到海贼王的秘宝("),n("code",[t._v("Object.prototype")]),t._v(")，必须要认个爹！因为通往海贼王的秘宝的通道就藏在老爹的秘宝里面。")])])]),t._v(" "),n("h2",{attrs:{id:"终极秘宝"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#终极秘宝"}},[t._v("#")]),t._v(" 终极秘宝")]),t._v(" "),n("p",[t._v("  海贼王("),n("code",[t._v("Object")]),t._v(")对于外人们给他的称号丝毫不在意，他在意的是这个世界的真相：我从哪里来？在处处碰壁之后，有人给他提醒，万国的秘宝与众不同，或许从他哪里能找到一些消息。认爹是不可能的，于是他就伪造了一个印记("),n("code",[t._v("__proto__")]),t._v(")，找到了万国的秘宝("),n("code",[t._v("Function.prototype")]),t._v(")，第一次有可以使用秘宝的权力(假装认了个爹)。更加令他惊讶的是，之所以自己的秘宝与众不同，是因为他的爷爷(假爹也算爹)就是他自己！")]),t._v(" "),n("p",[t._v("  另外，他是世界上第一个进入自己的秘宝的人。当他还沉迷于自己的秘宝的时候，旁人告诉他，这里还有一条密道，但是没有人能够进得去；听完之后，他急忙走到密道跟前，发现上面写着 “终极秘宝” 四个大字，想都没想就走了进去。当他穿过这个通道，看见了一片白茫茫的世界，除了他，什么都没有！这时候，他猛然顿悟：我能来到这里，并不是因为我有多么的特殊，而是这是时代赋予我的使命，我的使命只能走到这里，我无法再往前走，前面的道路不属于我。想到这里，他便哈哈大笑了起来。。。")]),t._v(" "),n("p",[t._v("  他沿原路返回，并告诉通行的人，通往 “终极秘宝” 的方法，并且给他取了一个名字："),n("code",[t._v("null")]),t._v("。至此，所有人都能找到 “终极秘宝”，但是，谁也无法从它那里得知什么。")]),t._v(" "),n("p",[n("img",{attrs:{src:a(371),alt:"终极秘宝"}})]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("海贼小 tips")]),t._v(" "),n("ul",[n("li",[t._v("海贼王("),n("code",[t._v("Object")]),t._v(")是这样发现自己是自己的爷爷的，并且他现在能使用自己的秘宝("),n("code",[t._v("prototype")]),t._v(")了")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("          "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasOwnProperty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'toString'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("toString"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("                    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// [Function toString]")]),t._v("\n")])])]),n("ul",[n("li",[t._v("至此，基本上所有的海贼(除了 "),n("code",[t._v("Function")]),t._v(")都被指引到了终极之路")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Foo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("      "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// null")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Object"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// null")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" f1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" f2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nf1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype\n\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("       "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// null")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("                 "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// null")]),t._v("\n")])])])]),t._v(" "),n("h2",{attrs:{id:"疯狂的万国"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#疯狂的万国"}},[t._v("#")]),t._v(" 疯狂的万国")]),t._v(" "),n("p",[t._v("  万国("),n("code",[t._v("Function")]),t._v(")听说海贼王通过偷取他的秘宝找到了 “终极秘宝”，非常的愤怒，最终患上了暴怒症。最终有一天，在照镜子的时候，暴怒症发作了！他不停地对着镜子里的自己说：你是我爹，你爹是我...")]),t._v(" "),n("p",[t._v("  然后，结果就是：他成为了自己的爹，而且找到了 “终极秘宝”。从此以后，大家都说他是一个疯子。")]),t._v(" "),n("p",[n("img",{attrs:{src:a(372),alt:"终极秘宝"}})]),t._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[t._v("海贼小 tips")]),t._v(" "),n("ul",[n("li",[t._v("万国("),n("code",[t._v("Function")]),t._v(")是第二个进入自己秘宝的人，因为他能把自己认作爹")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[t._v("console"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Function"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("          "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Function"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Function"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("call"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("                                "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// [Function call]")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Function")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("hasOwnProperty")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'call'")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")])])])]),t._v(" "),n("h2",{attrs:{id:"新的规则"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#新的规则"}},[t._v("#")]),t._v(" 新的规则")]),t._v(" "),n("p",[t._v("至此，海贼世界的规则基本上形成了，他们有一些公认的规则，但也有不遵守规则的人。")]),t._v(" "),n("h3",{attrs:{id:"new-规则"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#new-规则"}},[t._v("#")]),t._v(" new 规则")]),t._v(" "),n("ul",[n("li",[t._v("一个权威的认爹机构，以后想要上船，通过 "),n("code",[t._v("new")]),t._v(" 就行了")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tag "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token string"}},[t._v("'Foo'")]),t._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" f1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("tag"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("   "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 'Foo'")]),t._v("\n")])])]),n("ul",[n("li",[t._v("这样不用自己去申请印记("),n("code",[t._v("__proto__")]),t._v(")，主要是为了解决一些问题：\n"),n("ul",[n("li",[t._v("有些船长认可 "),n("code",[t._v("__proto__")]),t._v(" 印记，但有些认可 "),n("code",[t._v("[[prototype]]")]),t._v(" 印记，其实他们是一样的")]),t._v(" "),n("li",[t._v("使用 "),n("code",[t._v("new")]),t._v(" 的方式让别人看起来更像我的亲儿子(面向对象编程)，这样我也是有亲儿子(继承)的了")])])]),t._v(" "),n("li",[t._v("海贼世界 6.0 版本(ES6)后，又出现了新的认爹规则，但其实都是换汤不换药："),n("a",{attrs:{href:""}},[t._v("ES6 Class")])])]),t._v(" "),n("h3",{attrs:{id:"instanceof-规则"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#instanceof-规则"}},[t._v("#")]),t._v(" instanceof 规则")]),t._v(" "),n("ul",[n("li",[t._v("一个老爹检测机构，在大海上需要别人给个面子的时候，只有通过这个检测别人才会承认你的继承资格，而且它只会检测印记("),n("code",[t._v("__proto__")]),t._v(")")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" f1 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f1 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f1 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")])])]),n("ul",[n("li",[t._v("有一个叫 “蒂奇” 的海贼反水，自立为王了：")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" f2 "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\nf2"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("__proto__ "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype\n\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f2 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("    "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// false")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("f2 "),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("instanceof")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Object")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")])])]),n("h3",{attrs:{id:"prototype-规则"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#prototype-规则"}},[t._v("#")]),t._v(" prototype 规则")]),t._v(" "),n("ul",[n("li",[t._v("谨记，秘宝是老爹给孩子们(实例)的奖励(交易)，老爹自己无法访问，除了海贼王("),n("code",[t._v("Object")]),t._v(")和万国("),n("code",[t._v("Function")]),t._v(")")]),t._v(" "),n("li",[t._v("为了区分船长(构造函数)和万国队长(普通函数)，约定了船长(构造函数)的名字要大写")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 构造函数")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// 普通函数")]),t._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("foo")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),n("h3",{attrs:{id:"constructor-规则"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#constructor-规则"}},[t._v("#")]),t._v(" constructor 规则")]),t._v(" "),n("ul",[n("li",[t._v("为了让海贼世界更加稳定，秘宝也被贴上了一个标签("),n("code",[t._v("constructor")]),t._v(")，它表示这个秘宝的主人是谁")])]),t._v(" "),n("div",{staticClass:"language-js extra-class"},[n("pre",{pre:!0,attrs:{class:"language-js"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nconsole"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Foo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("prototype"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("constructor "),n("span",{pre:!0,attrs:{class:"token operator"}},[t._v("===")]),t._v(" Foo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("  "),n("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// true")]),t._v("\n")])])]),n("h3",{attrs:{id:"object-规则"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#object-规则"}},[t._v("#")]),t._v(" Object 规则")]),t._v(" "),n("ul",[n("li",[t._v("这不算是规则，只是到了海贼 6.0(ES6)时代，海贼王("),n("code",[t._v("Object")]),t._v(")为了让海贼世界更加稳定，定义了一系列的规则(方法)")]),t._v(" "),n("li",[n("code",[t._v("Foo.prototype.isPrototypeOf(f1)")]),t._v("：相当于 "),n("code",[t._v("f1 instanceof Foo")])]),t._v(" "),n("li",[n("code",[t._v("Object.setPrototypeOf(f1, Foo.prototype)")]),t._v("：相当于 "),n("code",[t._v("f1.__proto__ = Foo.prototype")])])]),t._v(" "),n("h2",{attrs:{id:"总结"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#总结"}},[t._v("#")]),t._v(" 总结")]),t._v(" "),n("p",[t._v("啰里八嗦了这么久，就稍微总结一些吧：")]),t._v(" "),n("ul",[n("li",[n("strong",[t._v("原型")]),t._v("：就是原型对象(prototype)，这个属性是所有构造函数都有的，定义所有子实例共享的内容，它是原型链的基础")]),t._v(" "),n("li",[n("strong",[t._v("原型链")]),t._v("：以 "),n("code",[t._v("__proto__")]),t._v(" 作为链条，以相关的原型作为节点组装成的关系链；子实例可以通过这条关系链，找到更多共享的内容")]),t._v(" "),n("li",[n("strong",[t._v("两条原型链")]),t._v("：作为对象的原型链，作为函数的原型链；如果一个数据结构不是函数，那么只有一条原型链\n"),n("ul",[n("li",[t._v("作为函数的原型链：主要是为了使用 "),n("code",[t._v("Function")]),t._v(" 原型上的 "),n("code",[t._v("call")]),t._v("/"),n("code",[t._v("bind")]),t._v("/"),n("code",[t._v("apply")]),t._v(" 等方法")]),t._v(" "),n("li",[t._v("作为对象的原型链：主要是为了使用 "),n("code",[t._v("Object")]),t._v(" 原型上的一众方法")])])]),t._v(" "),n("li",[n("strong",[t._v("构造函数")]),t._v("：实际上就是一个函数，但一用上 "),n("code",[t._v("new")]),t._v(" 操作符，就变成了构造函数，一般来说，规定首字母大写")]),t._v(" "),n("li",[n("strong",[t._v("继承")]),t._v("：学习过其他语言的话，对 js 的继承会很不习惯；\n"),n("ol",[n("li",[t._v("它可以通过"),n("a",{attrs:{href:"./es-implement-extend-patterns"}},[t._v("多种方式实现继承")]),t._v("，但是原理都是一样的，即："),n("strong",[t._v("基于原型，需要什么就去原型(原型链)上面找")])]),t._v(" "),n("li",[t._v("基于原型的继承中，我们对 A 继承于 B 不感兴趣，只对 a 继承于 A 和 B 感兴趣")])])]),t._v(" "),n("li",[n("strong",[t._v("原型链顶端")]),t._v("：这时一个先有 "),n("code",[t._v("Object")]),t._v(" 还是先有 "),n("code",[t._v("Function")]),t._v(" 的问题；实际上，当没有添加最后两条指向(紫色 "),n("code",[t._v("__proto__")]),t._v(")的时候，很难解析谁才是原型链的顶端，这时候可以看作有三个顶端："),n("code",[t._v("Object")]),t._v("、"),n("code",[t._v("Function")]),t._v(" 和 "),n("code",[t._v("null")]),t._v("，它们之间没有任何关系。所以：\n"),n("ol",[n("li",[t._v("设置 "),n("code",[t._v("Object.__proto__ = Function.prototype")]),t._v("："),n("code",[t._v("Object")]),t._v(" 会先后获取到 "),n("code",[t._v("Function")]),t._v(" 和他自身的原型，从而可以到达顶端 "),n("code",[t._v("null")])]),t._v(" "),n("li",[t._v("设置 "),n("code",[t._v("Function.__proto__ = Function.prototype")]),t._v("："),n("code",[t._v("Function")]),t._v(" 会先后获取到他自身和 "),n("code",[t._v("Object")]),t._v(" 的原型，从而可以到达顶端 "),n("code",[t._v("null")])]),t._v(" "),n("li",[t._v("所以可以理解原型链的顶端是 "),n("code",[t._v("null")]),t._v("，而 "),n("code",[t._v("Object")]),t._v(" 和 "),n("code",[t._v("Function")]),t._v(" 是同时出现的，它们共同协作构造了这样一个原型体系")])])])])])}),[],!1,null,null,null);s.default=o.exports}}]);